
# Inspired from these repos
#
#

# Install command-line tools using Homebrew.

# Make sure we’re using the latest Homebrew.
brew update

# Upgrade any already-installed formulae.
brew upgrade

# Save Homebrew’s installed location.
BREW_PREFIX=$(brew --prefix)

echo "Hello $(whoami)! Let's get you set up."

echo "mkdir -p ${HOME}/code"
mkdir -vp "${HOME}/code"

###############################################################################
# SSH Key Generation   							      #
###############################################################################
# https://medium.com/risan/upgrade-your-ssh-key-to-ed25519-c6e8d60d3c54

#mkdir -p ~/.ssh
#touch ~/.ssh/config

#ssh-keygen -o -a 256 -t ed25519 -f ~/.ssh/id_ed25519 -C "jacob@example.com"
#echo "Host *\n AddKeysToAgent yes\n UseKeychain yes\n IdentityFile ~/.ssh/id_ed225519" | tee ~/.ssh/config
#pbcopy < ~/.ssh/id_ed25519

###############################################################################
# Install N Node Manager
###############################################################################
#echo "installing node (via n-install)"
#curl -L https://git.io/n-install | bash

#echo "node --version: $(node --version)"
#echo "npm --version: $(npm --version)"

###############################################################################
# Applications   							      #
###############################################################################

echo "installing homebrew"
# install homebrew https://brew.sh
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Install GNU core utilities (those that come with macOS are outdated).
# Don’t forget to add `$(brew --prefix coreutils)/libexec/gnubin` to `$PATH`.
brew install coreutils
ln -s "${BREW_PREFIX}/bin/gsha256sum" "${BREW_PREFIX}/bin/sha256sum"

brew install moreutils				# Install some other useful utilities like `sponge`.
brew install findutils				# Install GNU `find`, `locate`, `updatedb`, and `xargs`, `g`-prefixed.
brew install gnu-sed --with-default-names	# Install GNU `sed`, overwriting the built-in `sed`.
# brew install bash				# Install a modern version of Bash.
# brew install bash-completion2

# Install `wget` with IRI support.
brew install wget --with-iri

# Install GnuPG to enable PGP-signing commits.
brew install gnupg

# Install more recent versions of some macOS tools.
brew install zsh
brew install vim --with-override-system-vi
brew install grep
brew install openssh

## Install main apps
brew install --cask firefox-developer-edition
brew install --cask notion 			## notion-enhanced for enhanced edition
brew install --cask kitty
brew install --cask alfred			# Application launcher and productivity software
brew install --cask flux			# Screen color temperature controller
brew install --cask insomnia			# HTTP and GraphQL Client
brew install --cask slack			# Team communication and collaboration software
brew install --cask flameshot			# Screenshot software

# Current job specific tools
brew install --cask microsoft-outlook		# Microsoft outlook for mail
brew install --cask microsoft-teams		# Meet, chat, call, and collaborate in just one place
brew install --cask loom			#
brew install --cask jetbrains-toolbox
brew install --cask azure-data-studio

#brew install koekeishiya/formulae/yabai

# Development SDK
brew install --cask dotnet-sdk			# .Net Core
brew install nvm

## Install utilities
brew install docker				# Pack, ship and run any application as a lightweight container
brew install curl				# Get a file from an HTTP, HTTPS or FTP server
brew install git				# Install latest git instead of sometimes out of date git-apple
brew install gh					# Official github cli tool
brew install bat				# Clone of cat(1) with syntax highlighting and Git integration
brew install stow				# Symlink manager for dotfiles
brew install neovim				# Modern vim
brew install lazygit				# ...I'm lazy, what can I say?
brew install ripgrep				# Incredibly fast search tool like grep and the Silver eearcher
brew install exa				# Modern replacement for 'ls', written in rust
brew install fd					# Simple, fast and user-friendly alternative to find
brew install ncdu				# NCurses Disk Usage
brew install fzf				# Command-line fuzzy finder written in Go
brew install ranger				# File browser
brew install p7zip				#

# Remove outdated versions from the cellar.
brew cleanup


###############################################################################
# Install OH MY ZSH   							      #
###############################################################################

sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

rm ~/.zshrc
cd .dotfiles
stow zsh
. ~/.zshrc

###############################################################################
# Install Neovim and plugins						      #
###############################################################################

gh repo clone jmeline/dracula_pro_nvim .dracula_pro_nvim
gh repo clone jmeline/nvim-config .nvim
cd .nvim
stow nvim
nvim +PackerSync

echo "Running .osx"
chmod +x ~/.dotfiles/.osx
~/.dotfiles/.osx
